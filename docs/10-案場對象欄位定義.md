# 案場對象(object_8W9cb__c)欄位定義

## 對象資訊
- **API名稱**: `object_8W9cb__c`
- **顯示名稱**: 案場
- **類型**: 自定義對象
- **總欄位數**: 47個（系統欄位37個，自定義欄位10個）

## 系統欄位

| 欄位名稱 | API名稱 | 資料類型 | 說明 | 範例值 |
|---------|---------|---------|------|--------|
| ID | _id | string | 記錄唯一標識 | "6874b50fd748ab0001960018" |
| 名稱 | name | string | 案場名稱 | "25-07-14-3553" |
| 負責人 | owner | array | 負責人ID陣列 | ["FSUID_303D4E189251A699407AA8A9F42B0D02"] |
| 負責人資訊 | owner__r | object | 負責人詳細資訊 | {name: "楊凱中(已停用)"} |
| 負責人部門ID | owner_department_id | string | 部門ID | "1006" |
| 負責人部門 | owner_department | string | 部門名稱 | "業務二部" |
| 創建時間 | create_time | number | 時間戳 | 1752478991524 |
| 創建人 | created_by | array | 創建人ID | ["FSUID_BDF4911AC3ADCD331A26BDD4550DB6C0"] |
| 創建人資訊 | created_by__r | object | 創建人詳細資訊 | {name: "楊佳玲"} |
| 最後修改時間 | last_modified_time | number | 時間戳 | 1754042605741 |
| 最後修改人 | last_modified_by | array | 修改人ID | ["FSUID_BDF4911AC3ADCD331A26BDD4550DB6C0"] |
| 生命狀態 | life_status | string | 記錄狀態 | "normal" |
| 生命狀態顯示 | life_status__r | string | 狀態中文 | "正常" |
| 鎖定狀態 | lock_status | string | 0=未鎖定,1=鎖定 | "0" |
| 鎖定狀態顯示 | lock_status__r | string | 狀態中文 | "未锁定" |
| 歸屬部門 | data_own_department | array | 部門ID陣列 | ["1006"] |
| 相關團隊 | relevant_team | array | 團隊成員設定 | [{teamMemberRole: "1"}] |
| 記錄類型 | record_type | string | 記錄類型 | "default__c" |
| 版本 | version | string | 版本號 | "3" |
| 是否刪除 | is_deleted | boolean | 軟刪除標記 | false |
| 總數 | total_num | number | 總記錄數 | 3277 |

## 自定義欄位

| 欄位名稱 | API名稱 | 資料類型 | 說明 | 範例值 |
|---------|---------|---------|------|--------|
| 建案 | field_k7e6q__c | string | 關聯建案ID | "68746b9e5a99e00001446880" |
| 建案名稱 | field_k7e6q__c__r | string | 建案顯示名稱 | "勝興-忠孝段" |
| 年度建案 | field_1P96q__c | string | 年度建案ID | "651e2befd830ad00013cfcf7" |
| 年度建案名稱 | field_1P96q__c__r | string | 年度建案顯示名稱 | "勝興-忠孝段-2024" |
| 樓層 | field_npLvn__c | string | 樓層ID | "688c8f7d5450af00013c7fce" |
| 樓層名稱 | field_npLvn__c__r | string | 樓層顯示名稱 | "勝興-忠孝段-樣品層-築愛家" |
| 棟別 | field_WD7k1__c | string | 棟別代號 | "C" |
| 戶別 | field_XuJP2__c | string | 戶別代號 | "C1" |
| 坪數1 | field_i2Q1g__c | string | 坪數資訊 | "18.22" |
| 坪數2 | field_tXAko__c | string | 坪數資訊 | "18.22" |
| 面積 | field_Q6Svh__c | string | 面積資訊 | "2.0" |
| 狀態 | field_23Z5i__c | array | 狀態選項 | ["t8740Rp11"] |
| 狀態顯示 | field_23Z5i__c__r | string | 狀態中文 | "準備中" |
| 類型 | field_dxr31__c | string | 案場類型 | "option1" |
| 類型顯示 | field_dxr31__c__r | string | 類型中文 | "工地" |

## 關聯欄位說明

### 主要關聯
1. **建案關聯** (field_k7e6q__c)
   - 關聯到建案對象
   - 使用 field_k7e6q__c__relation_ids 儲存關聯ID

2. **年度建案關聯** (field_1P96q__c)
   - 關聯到年度建案對象
   - 使用 field_1P96q__c__relation_ids 儲存關聯ID

3. **樓層關聯** (field_npLvn__c)
   - 關聯到樓層對象
   - 使用 field_npLvn__c__relation_ids 儲存關聯ID

### 欄位命名規則
- 自定義欄位都以 `field_xxxxx__c` 格式命名
- 關聯欄位的顯示值會加上 `__r` 後綴
- 關聯ID會加上 `__relation_ids` 後綴
- 查找列表會加上 `__l` 後綴

## 資料同步注意事項

1. **主鍵設計**
   - 使用 `_id` 作為唯一識別
   - 可能需要建立複合唯一鍵：建案+棟別+樓層+戶別

2. **資料類型映射**
   ```sql
   -- D1資料表建議結構
   CREATE TABLE object_8w9cb__c (
     _id TEXT PRIMARY KEY,
     name TEXT,
     owner TEXT,
     owner_department_id TEXT,
     owner_department TEXT,
     create_time INTEGER,
     last_modified_time INTEGER,
     life_status TEXT,
     lock_status TEXT,
     is_deleted BOOLEAN DEFAULT FALSE,
     
     -- 自定義欄位
     field_k7e6q__c TEXT,        -- 建案ID
     field_k7e6q__c__r TEXT,     -- 建案名稱
     field_1P96q__c TEXT,        -- 年度建案ID
     field_1P96q__c__r TEXT,     -- 年度建案名稱
     field_npLvn__c TEXT,        -- 樓層ID
     field_npLvn__c__r TEXT,     -- 樓層名稱
     field_WD7k1__c TEXT,        -- 棟別
     field_XuJP2__c TEXT,        -- 戶別
     field_i2Q1g__c TEXT,        -- 坪數1
     field_tXAko__c TEXT,        -- 坪數2
     field_Q6Svh__c TEXT,        -- 面積
     field_23Z5i__c TEXT,        -- 狀態
     field_23Z5i__c__r TEXT,     -- 狀態顯示
     field_dxr31__c TEXT,        -- 類型
     field_dxr31__c__r TEXT,     -- 類型顯示
     
     -- 同步控制欄位
     sync_version INTEGER DEFAULT 0,
     fx_created_at INTEGER,
     fx_updated_at INTEGER
   );
   ```

3. **陣列欄位處理**
   - owner、created_by等陣列欄位需要取第一個元素
   - relevant_team需要JSON序列化儲存
   - field_23Z5i__c狀態陣列可能需要特殊處理

4. **關聯資料處理**
   - __r結尾的欄位包含關聯對象的顯示值
   - __relation_ids包含實際的關聯ID
   - 同步時優先使用顯示值，避免額外查詢